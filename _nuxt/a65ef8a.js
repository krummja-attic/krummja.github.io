(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{286:function(e,t,n){var r;r=function(e){!function(e){e.buildStyle=function(e,title,body){return void 0===body&&(body={}),{title:{bold:title.bold||!1,underline:title.underline||!1,italic:title.italic||!1,center:title.center||!1},body:{bold:body.bold||!1,underline:body.underline||!1,italic:body.italic||!1,center:body.center||!1},dashed:e.dashed||!1,empty:e.empty||!1,fill:e.fill||void 0,stroke:e.stroke||void 0,visual:e.visual||"class",direction:e.direction||void 0}};var t=function(e,t,n){this.lines=e,this.nodes=t,this.relations=n};e.Compartment=t;var n=function(){};e.Relation=n;var r=function(e,t,n){this.type=e,this.name=t,this.compartments=n,this.dividers=[]};e.Classifier=r}(o||(o={}));var t=this&&this.__spreadArrays||function(){for(var s=0,i=0,e=arguments.length;i<e;i++)s+=arguments[i].length;var t=Array(s),n=0;for(i=0;i<e;i++)for(var a=arguments[i],r=0,o=a.length;r<o;r++,n++)t[n]=a[r];return t};!function(n){n.layout=function(r,o,h){function d(h,d,style){var m,w,x,_=(w=h.lines,x=d?"normal":"bold",w.length?(r.setFont(o,x,"normal"),{width:Math.round(Math.max.apply(Math,w.map(r.textWidth))+2*o.padding),height:Math.round(r.textHeight()*w.length+2*o.padding)}):{width:0,height:o.padding});if(!h.nodes.length&&!h.relations.length)return h.width=_.width,h.height=_.height,void(h.offset={x:o.padding,y:o.padding});h.nodes.forEach(y);var g=new e.graphlib.Graph;g.setGraph({rankdir:style.direction||o.direction,nodesep:o.spacing,edgesep:o.spacing,ranksep:o.spacing,acyclicer:o.acyclicer,ranker:o.ranker});for(var k=0,E=h.nodes;k<E.length;k++){var S=E[k];g.setNode(S.name,{width:S.layoutWidth,height:S.layoutHeight})}for(var N=0,I=h.relations;N<I.length;N++){var T=I[N];T.assoc.indexOf("_")>-1?g.setEdge(T.start,T.end,{id:T.id,minlen:0}):1!=(null!==(m=o.gravity)&&void 0!==m?m:1)?g.setEdge(T.start,T.end,{id:T.id,minlen:o.gravity}):g.setEdge(T.start,T.end,{id:T.id})}e.layout(g);var M=n.skanaar.indexBy(h.relations,"id"),L=n.skanaar.indexBy(h.nodes,"name");g.nodes().forEach((function(e){var t=g.node(e);L[e].x=t.x,L[e].y=t.y}));var C=0,A=0,O=0,j=0;g.edges().forEach((function(e){var n=g.edge(e),r=L[e.v],o=L[e.w],h=M[n.id];h.path=t([r],n.points,[o]).map(l);var d=h.path[1],y=h.path[h.path.length-2];c(h.startLabel,d,v(f(d,r,4),r,o)),c(h.endLabel,y,v(f(y,o,2),o,r)),C=Math.min.apply(Math,t([C,h.startLabel.x,h.endLabel.x],n.points.map((function(e){return e.x})),n.points.map((function(e){return e.x})))),A=Math.max.apply(Math,t([A,h.startLabel.x+h.startLabel.width,h.endLabel.x+h.endLabel.width],n.points.map((function(e){return e.x})))),O=Math.min.apply(Math,t([O,h.startLabel.y,h.endLabel.y],n.points.map((function(e){return e.y})))),j=Math.max.apply(Math,t([j,h.startLabel.y+h.startLabel.height,h.endLabel.y+h.endLabel.height],n.points.map((function(e){return e.y}))))}));var P=g.graph(),z=Math.max(P.width,A-C),R=Math.max(P.height,j-O),D=R?R+2*o.gutter:0,F=z?z+2*o.gutter:0;h.width=Math.max(_.width,F)+2*o.padding,h.height=_.height+D+o.padding,h.offset={x:o.padding-C,y:o.padding-O}}function l(e){return{x:e.x,y:e.y}}function c(label,e,t){if(label.text){var n=o.fontSize,h=label.text.split("`");label.width=Math.max.apply(Math,h.map((function(e){return r.textWidth(e)}))),label.height=n*h.length,label.x=e.x+(1==t||4==t?o.padding:-label.width-o.padding),label.y=e.y+(3==t||4==t?o.padding:-label.height-o.padding)}else label.width=0,label.height=0,label.x=e.x,label.y=e.y}function f(e,t,n){return e.x<t.x&&e.y<t.y?1:e.x>t.x&&e.y<t.y?2:e.x>t.x&&e.y>t.y?3:e.x<t.x&&e.y>t.y?4:n}function v(e,t,n){if(n.x==t.x||n.y==t.y)return e;if((n.y<t.y?n.x<t.x?2:1:n.x<t.x?3:4)===e){if("LR"===o.direction)return[4,3,2,1][e-1];if("TB"===o.direction)return[2,1,4,3][e-1]}return e}function y(e){var style=o.styles[e.type]||n.styles.CLASS;e.compartments.forEach((function(e,i){d(e,i,style)})),n.layouters[style.visual](o,e),e.layoutWidth=e.width+2*o.edgeMargin,e.layoutHeight=e.height+2*o.edgeMargin}return d(h,0,n.styles.CLASS),h}}(o||(o={}));var r,o,h=this&&this.__extends||(r=function(e,b){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,b){e.__proto__=b}||function(e,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(e[p]=b[p])})(e,b)},function(e,b){function t(){this.constructor=e}r(e,b),e.prototype=null===b?Object.create(b):(t.prototype=b.prototype,new t)});!function(e){var t=function(e){function t(){return e.call(this,"max_import_depth exceeded")||this}return h(t,e),t}(Error);e.ImportDepthError=t,e.compileFile=function(t,r){var o=n(289),path=n(290),h=path.dirname(t),d=t.substr(h.length);function l(e){return o.readFileSync(path.join(h,e),{encoding:"utf8"})}return e.processImports(l(d),l,r)}}(o||(o={})),function(e){function t(code,t,canvas,n){var r=e.parse(code),o=r.config,h=function(e,t){return{setFont:function(n,r,o){t.setFont(n.font,r,o,e.fontSize)},textWidth:function(s){return t.measureText(s).width},textHeight:function(){return e.leading*e.fontSize}}}(o,t),d=e.layout(h,o,r.root);return canvas&&function(canvas,rect,e){canvas.width=rect.width*e,canvas.height=rect.height*e}(canvas,d,o.zoom*n),o.zoom*=n,e.render(t,o,d,h.setFont),{config:o,layout:d}}e.version="1.3.1",e.draw=function(canvas,code,n){return t(code,e.skanaar.Canvas(canvas),canvas,n||1)},e.renderSvg=function(code,n){var r=e.skanaar.Svg("",n),o=t(code,r,null,1),h=o.config,d=o.layout;return r.serialize({width:d.width,height:d.height},code,h.title)},e.processImports=function t(source,n,r){if(void 0===r&&(r=10),-1==r)throw new e.ImportDepthError;return source.replace(/#import: *(.*)/g,(function(a,e){return t(function(e){try{return n(e)||""}catch(e){return""}}(e),n,r-1)}))}}(o||(o={})),function(e){e.parse=function(source){var t=source.split("\n").map((function(s,i){return{text:s,index:i}})),n=t.filter((function(line){return"#"===line.text[0]})),r={};n.forEach((function(line){try{var e=line.text.substring(1).split(":");r[e[0].trim()]=e[1].trim()}catch(e){throw new Error("line "+(line.index+1)+": Malformed directive")}}));var o=t.map((function(e){return"#"!==(line=e.text)[0]&&"//"!==line.trim().substring(0,2)?line.trim():"";var line})).join("\n");if(""==o)return{root:new e.Compartment([],[],[]),config:c(r)};var h=e.intermediateParse(o);return{root:e.transformParseIntoSyntaxTree(h),config:c(r)};function d(e){return"down"==e?"TB":"right"==e?"LR":"TB"}function l(t){var n=e.skanaar.hasSubstring,r=t.replace(/[a-z]*=[^ ]+/g,""),o=e.skanaar.last(t.match("title=([^ ]*)")||[""]),h=e.skanaar.last(t.match("body=([^ ]*)")||[""]);return{title:{bold:n(o,"bold")||n(r,"bold"),underline:n(o,"underline")||n(r,"underline"),italic:n(o,"italic")||n(r,"italic"),center:!(n(o,"left")||n(t,"align=left"))},body:{bold:n(h,"bold"),underline:n(h,"underline"),italic:n(h,"italic"),center:n(h,"center")},dashed:n(t,"dashed"),empty:n(t,"empty"),fill:e.skanaar.last(t.match("fill=([^ ]*)")||[]),stroke:e.skanaar.last(t.match("stroke=([^ ]*)")||[]),visual:e.skanaar.last(t.match("visual=([^ ]*)")||[])||"class",direction:d(e.skanaar.last(t.match("direction=([^ ]*)")||[]))}}function c(t){var n,r,o={};for(var h in t)if("."==h[0]){var c=t[h];o[h.substring(1).toUpperCase()]=l(c)}return{arrowSize:+t.arrowSize||1,bendSize:+t.bendSize||.3,direction:d(t.direction),gutter:+t.gutter||5,edgeMargin:+t.edgeMargin||0,gravity:+(null!==(n=t.gravity)&&void 0!==n?n:1),edges:"hard"==t.edges?"hard":"rounded",fill:(t.fill||"#eee8d5;#fdf6e3;#eee8d5;#fdf6e3").split(";"),background:t.background||"transparent",fillArrows:"true"===t.fillArrows,font:t.font||"Helvetica",fontSize:+t.fontSize||12,leading:+t.leading||1.25,lineWidth:+t.lineWidth||3,padding:+t.padding||8,spacing:+t.spacing||40,stroke:t.stroke||"#33322E",title:t.title||"",zoom:+t.zoom||1,acyclicer:"greedy"===t.acyclicer?"greedy":void 0,ranker:(r=t.ranker,"network-simplex"==r||"tight-tree"==r||"longest-path"==r?r:"network-simplex"),styles:e.skanaar.merged(e.styles,o)}}},e.intermediateParse=function(source){return d.parse(source)},e.transformParseIntoSyntaxTree=function(t){var n=0;function r(t){var r=[],h=[],d=[];t.forEach((function(p){"string"==typeof p&&r.push(p),void 0!==p.assoc&&(h.push(p.start),h.push(p.end),d.push({id:n++,assoc:p.assoc,start:p.start.parts[0][0],end:p.end.parts[0][0],startLabel:{text:p.startLabel},endLabel:{text:p.endLabel}})),function(e){return void 0!==e.parts}(p)&&h.push(p)}));var l=h.map(o).sort((function(a,b){return b.compartments.length-a.compartments.length})),c=e.skanaar.uniqueBy(l,"name"),f=d.filter((function(a){for(var e=0,t=d;e<t.length;e++){var b=t[e];if(a===b)return!0;if(b.start==a.start&&b.end==a.end)return!1}return!0}));return new e.Compartment(r,c,f)}function o(t){var n=t.parts.map(r);return new e.Classifier(t.type,t.id,n)}return r(t)}}(o||(o={})),function(e){e.render=function(t,n,r,o){var g=t,h=e.skanaar.vector;function d(t,r,style,h){g.save(),g.translate(t.offset.x,t.offset.y),g.fillStyle(r||n.stroke),t.lines.forEach((function(text,i){g.textAlign(style.center?"center":"left");var e=style.center?t.width/2-n.padding:0,r=(.5+(i+.5)*n.leading)*n.fontSize;if(text&&g.fillText(text,e,r),style.underline){var o=g.measureText(text).width;r+=Math.round(.2*n.fontSize)+.5,style.center?g.path([{x:e-o/2,y:r},{x:e+o/2,y:r}]).stroke():g.path([{x:e,y:r},{x:e+o,y:r}]).stroke(),g.lineWidth(n.lineWidth)}})),g.translate(n.gutter,n.gutter),t.relations.forEach((function(t){!function(t){var r=t.path[1],h=t.path[t.path.length-2],path=t.path.slice(1,-1);if(g.fillStyle(n.stroke),o(n,"normal"),y(t.startLabel),y(t.endLabel),"-/-"!==t.assoc&&"_/_"!==t.assoc)if(e.skanaar.hasSubstring(t.assoc,"--")||e.skanaar.hasSubstring(t.assoc,"__")){var d=Math.max(4,2*n.lineWidth);g.setLineDash([d,d]),l(path),g.setLineDash([])}else l(path);function w(e,path,t){">"===e||"<"===e?m(path,f,t,!1):":>"===e||"<:"===e?m(path,c,t,!1):"+"===e?m(path,f,t,v):"o"===e&&m(path,c,t,v)}var x=t.assoc.split(/[-_]/);w(e.skanaar.last(x),path,h),w(x[0],path.reverse(),r)}(t)})),t.nodes.forEach((function(t){!function(t,r){var h=Math.round(t.x-t.width/2),l=Math.round(t.y-t.height/2),style=n.styles[t.type]||e.styles.CLASS;if(g.fillStyle(style.fill||n.fill[r]||e.skanaar.last(n.fill)),g.strokeStyle(style.stroke||n.stroke),style.dashed){var c=Math.max(4,2*n.lineWidth);g.setLineDash([c,c])}var f=e.visualizers[style.visual]||e.visualizers.class;g.setData("name",t.name),f(t,h,l,n,g),g.setLineDash([]),g.save(),g.translate(h,l),t.compartments.forEach((function(e,i){var t=0==i?style.title:style.body;style.empty||(g.save(),g.translate(e.x,e.y),o(n,t.bold?"bold":"normal",t.italic?"italic":void 0),d(e,style.stroke,t,r+1),g.restore())}));for(var v=0,y=t.dividers;v<y.length;v++){var m=y[v];g.path(m).stroke()}g.restore()}(t,h)})),g.restore()}function l(p){if("rounded"===n.edges){var t=n.spacing*n.bendSize;g.beginPath(),g.moveTo(p[0].x,p[0].y);for(var i=1;i<p.length-1;i++)g.arcTo(p[i].x,p[i].y,p[i+1].x,p[i+1].y,t);g.lineTo(e.skanaar.last(p).x,e.skanaar.last(p).y),g.stroke()}else g.path(p).stroke()}var c=!1,f=!0,v=!0;function y(label){if(label&&label.text){var e=n.fontSize;label.text.split("`").forEach((function(t,i){return g.fillText(t,label.x,label.y+e*(i+1))}))}}function m(path,t,r,o){var d=n.spacing*n.arrowSize/30,l=h.diff(path[path.length-2],e.skanaar.last(path)),c=h.normalize(l);function f(s){return h.add(r,h.mult(c,s*d))}var v=f(o?7:10),y=h.rot(c),m=o?f(14):t&&!n.fillArrows?f(5):v,w=[h.add(v,h.mult(y,4*d)),m,h.add(v,h.mult(y,-4*d)),r];g.fillStyle(t?n.stroke:n.fill[0]),g.circuit(w).fillAndStroke()}g.save(),g.scale(n.zoom,n.zoom),g.clear(),g.save(),g.strokeStyle("transparent"),g.fillStyle(n.background),g.rect(0,0,r.width,r.height).fill(),g.restore(),o(n,"bold"),g.lineWidth(n.lineWidth),g.lineJoin("round"),g.lineCap("round"),g.strokeStyle(n.stroke),n.lineWidth%2==1&&g.translate(.5,.5),d(r,void 0,e.buildStyle({},{}).title,0),g.restore()}}(o||(o={})),function(e){!function(e){e.Canvas=function(canvas,e){var t=canvas.getContext("2d"),n={x:0,y:0},r=6.2832;function o(e){var t=canvas;return{x:e.clientX-t.getBoundingClientRect().left-t.clientLeft+t.scrollLeft,y:e.clientY-t.getBoundingClientRect().top-t.clientTop+t.scrollTop}}e&&(canvas.addEventListener("mousedown",(function(t){e.mousedown&&e.mousedown(o(t))})),canvas.addEventListener("mouseup",(function(t){e.mouseup&&e.mouseup(o(t))})),canvas.addEventListener("mousemove",(function(t){n=o(t),e.mousemove&&e.mousemove(o(t))})));var h={stroke:function(){return t.stroke(),h},fill:function(){return t.fill(),h},fillAndStroke:function(){return t.fill(),t.stroke(),h}};function d(path,e,s){s=void 0===s?1:s,e=e||{x:0,y:0},t.beginPath(),t.moveTo(e.x+s*path[0].x,e.y+s*path[0].y);for(var i=1,n=path.length;i<n;i++)t.lineTo(e.x+s*path[i].x,e.y+s*path[i].y);return h}return{mousePos:function(){return n},width:function(){return canvas.width},height:function(){return canvas.height},clear:function(){t.clearRect(0,0,canvas.width,canvas.height)},circle:function(p,e){return t.beginPath(),t.arc(p.x,p.y,e,0,r),h},ellipse:function(e,n,o,d,l){return void 0===d&&(d=0),void 0===l&&(l=r),t.beginPath(),t.save(),t.translate(e.x,e.y),t.scale(1,o/n),t.arc(0,0,n/2,d,l),t.restore(),h},arc:function(e,n,r,o,d){return t.beginPath(),t.moveTo(e,n),t.arc(e,n,r,o,d),h},roundRect:function(e,n,r,o,d){return t.beginPath(),t.moveTo(e+d,n),t.arcTo(e+r,n,e+r,n+d,d),t.lineTo(e+r,n+o-d),t.arcTo(e+r,n+o,e+r-d,n+o,d),t.lineTo(e+d,n+o),t.arcTo(e,n+o,e,n+o-d,d),t.lineTo(e,n+d),t.arcTo(e,n,e+d,n,d),t.closePath(),h},rect:function(e,n,r,o){return t.beginPath(),t.moveTo(e,n),t.lineTo(e+r,n),t.lineTo(e+r,n+o),t.lineTo(e,n+o),t.closePath(),h},path:d,circuit:function(path,e,s){return d(path,e,s),t.closePath(),h},setFont:function(e,n,r,o){t.font=n+" "+(r||"")+" "+o+"pt "+e+", Helvetica, sans-serif"},fillStyle:function(s){t.fillStyle=s},strokeStyle:function(s){t.strokeStyle=s},textAlign:function(a){t.textAlign=a},lineCap:function(e){t.lineCap=e},lineJoin:function(e){t.lineJoin=e},lineWidth:function(e){t.lineWidth=e},arcTo:function(){return t.arcTo.apply(t,arguments)},beginPath:function(){return t.beginPath.apply(t,arguments)},fillText:function(){return t.fillText.apply(t,arguments)},lineTo:function(){return t.lineTo.apply(t,arguments)},measureText:function(){return t.measureText.apply(t,arguments)},moveTo:function(){return t.moveTo.apply(t,arguments)},restore:function(){return t.restore.apply(t,arguments)},setData:function(e,t){},save:function(){return t.save.apply(t,arguments)},scale:function(){return t.scale.apply(t,arguments)},setLineDash:function(){return t.setLineDash.apply(t,arguments)},stroke:function(){return t.stroke.apply(t,arguments)},translate:function(){return t.translate.apply(t,arguments)}}}}(e.skanaar||(e.skanaar={}))}(o||(o={})),function(e){!function(e){function t(e){return(null!=e?e:"").toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}e.charWidths={0:10,1:10,2:10,3:10,4:10,5:10,6:10,7:10,8:10,9:10," ":5,"!":5,'"':6,"#":10,$:10,"%":15,"&":11,"'":4,"(":6,")":6,"*":7,"+":10,",":5,"-":6,".":5,"/":5,":":5,";":5,"<":10,"=":10,">":10,"?":10,"@":17,A:11,B:11,C:12,D:12,E:11,F:10,G:13,H:12,I:5,J:9,K:11,L:10,M:14,N:12,O:13,P:11,Q:13,R:12,S:11,T:10,U:12,V:11,W:16,X:11,Y:11,Z:10,"[":5,"\\":5,"]":5,"^":8,_:10,"`":6,a:10,b:10,c:9,d:10,e:10,f:5,g:10,h:10,i:4,j:4,k:9,l:4,m:14,n:10,o:10,p:10,q:10,r:6,s:9,t:5,u:10,v:9,w:12,x:9,y:9,z:9,"{":6,"|":5,"}":6,"~":10},e.Svg=function(n,r){var o=[{x:0,y:0,stroke:"none",strokeWidth:1,dashArray:"none",fill:"none",textAlign:"left",font:"Helvetica, Arial, sans-serif",fontSize:12,attributes:{}}],h=[],d=r?r.createElement("canvas"):null,l=d?d.getContext("2d"):null,c=function(){function e(e,t,content){this.name=e,this.attr=t,this.content=content||void 0}return e.prototype.stroke=function(){var base=this.attr.style||"";return this.attr.style=base+"stroke:"+m("stroke")+";fill:none;stroke-dasharray:"+m("dashArray")+";stroke-width:"+m("strokeWidth")+";",this},e.prototype.fill=function(){var base=this.attr.style||"";return this.attr.style=base+"stroke:none; fill:"+m("fill")+";",this},e.prototype.fillAndStroke=function(){var base=this.attr.style||"";return this.attr.style=base+"stroke:"+m("stroke")+";fill:"+m("fill")+";stroke-dasharray:"+m("dashArray")+";stroke-width:"+m("strokeWidth")+";",this},e}();function f(e,t){return o.forEach((function(n){e+=n[t]})),e}function v(e){return Math.round(10*f(e,"x"))/10}function y(e){return Math.round(10*f(e,"y"))/10}function m(e){for(var i=o.length-1;i>=0;i--)if(o[i][e])return o[i][e]}function w(e){return e[e.length-1]}function x(path,e,s){return s=void 0===s?1:s,e=e||{x:0,y:0},_("path",{d:path.map((function(t,i){return(i?"L":"M")+v(e.x+s*t.x)+" "+y(e.y+s*t.y)})).join(" ")})}function _(e,t,content){var element=new c(e,t,content),n=m("attributes");for(var r in n)element.attr["data-"+r]=n[r];return h.push(element),element}return{width:function(){return 0},height:function(){return 0},clear:function(){},circle:function(p,e){return _("circle",{r:e,cx:v(p.x),cy:y(p.y)})},ellipse:function(e,t,n,r,o){if(o){var h=y(e.y);return _("path",{d:"M"+v(e.x-t/2)+" "+h+"A"+t/2+" "+n/2+" 0 1 0 "+v(e.x+t/2)+" "+h})}return _("ellipse",{cx:v(e.x),cy:y(e.y),rx:t/2,ry:n/2})},arc:function(e,t,n){return _("ellipse",{cx:v(e),cy:y(t),rx:n,ry:n})},roundRect:function(e,t,n,r,o){return _("rect",{x:v(e),y:y(t),rx:o,ry:o,height:r,width:n})},rect:function(e,t,n,r){return _("rect",{x:v(e),y:y(t),height:r,width:n})},path:x,circuit:function(path,e,s){var element=x(path,e,s);return element.attr.d+=" Z",element},setFont:function(e,t,n,r){e=t+" "+(n||"")+" "+r+"pt "+e+", Helvetica, sans-serif",w(o).font=e,w(o).fontSize=r},strokeStyle:function(e){w(o).stroke=e},fillStyle:function(e){w(o).fill=e},arcTo:function(e,t,n,r){w(h).attr.d+="L"+v(e)+" "+y(t)+" L"+v(n)+" "+y(r)+" "},beginPath:function(){return _("path",{d:""})},fillText:function(text,e,t){var n={x:v(e),y:y(t),style:"fill: "+w(o).fill+";"},r=m("font");return r&&(n.style+="font:"+r+";"),"center"===m("textAlign")&&(n.style+="text-anchor: middle;"),_("text",n,text)},lineCap:function(e){n+=";stroke-linecap:"+e},lineJoin:function(e){n+=";stroke-linejoin:"+e},lineTo:function(e,t){return w(h).attr.d+="L"+v(e)+" "+y(t)+" ",w(h)},lineWidth:function(e){w(o).strokeWidth=e},measureText:function(s){return l?(l.font=m("font")||"normal 12pt Helvetica",l.measureText(s)):{width:e.sum(s,(function(t){var n=m("fontSize")/12;return e.charWidths[t]?e.charWidths[t]*n:16*n}))}},moveTo:function(e,t){w(h).attr.d+="M"+v(e)+" "+y(t)+" "},restore:function(){o.pop()},save:function(){o.push({x:0,y:0,stroke:null,strokeWidth:null,fill:null,textAlign:null,dashArray:"none",font:null,fontSize:null,attributes:null})},setData:function(e,t){m("attributes")[e]=t},scale:function(){},setLineDash:function(e){w(o).dashArray=0===e.length?"none":e[0]+" "+e[1]},stroke:function(){w(h).stroke()},textAlign:function(a){w(o).textAlign=a},translate:function(e,t){w(o).x+=e,w(o).y+=t},serialize:function(e,desc,title){function r(e){return Object.keys(e).map((function(n){return n+'="'+t(e[n])+'"'})).join(" ")}var o=h;desc&&o.unshift(new c("desc",{},desc)),title&&o.unshift(new c("title",{},title));var d=o.map((function(e){return"<"+e.name+" "+r(e.attr)+">"+t(e.content)+"</"+e.name+">"})).join("\n  ");return"<svg "+r({version:"1.1",baseProfile:"full",width:e.width,height:e.height,viewbox:"0 0 "+e.width+" "+e.height,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:ev":"http://www.w3.org/2001/xml-events",style:"font:"+m("font")+";"+n})+">\n  "+d+"\n</svg>"}}}}(e.skanaar||(e.skanaar={}))}(o||(o={})),function(e){!function(e){e.range=function(e,t){for(var n=e[0],r=e[1],output=[],i=0;i<t;i++)output.push(n+(r-n)*i/(t-1));return output},e.sum=function(e,t){for(var i=0,n=0,r=e.length;i<r;i++)n+=t(e[i]);return n},e.find=function(e,t){for(var i=0;i<e.length;i++)if(t(e[i]))return e[i]},e.last=function(e){return e[e.length-1]},e.hasSubstring=function(e,t){return""===t||!!e&&-1!==e.indexOf(t)},e.merged=function(a,b){function e(e,data){for(var t in data)e[t]=data[t]}var t={};return e(t,a),e(t,b),t},e.indexBy=function(e,t){for(var n={},i=0;i<e.length;i++)n[e[i][t]]=e[i];return n},e.uniqueBy=function(e,t){for(var n={},r=[],i=0;i<e.length;i++){var o=e[i][t];n[o]||(n[o]=!0,r.push(e[i]))}return r}}(e.skanaar||(e.skanaar={}))}(o||(o={})),function(e){!function(e){e.vector={dist:function(a,b){return e.vector.mag(e.vector.diff(a,b))},add:function(a,b){return{x:a.x+b.x,y:a.y+b.y}},diff:function(a,b){return{x:a.x-b.x,y:a.y-b.y}},mult:function(e,t){return{x:t*e.x,y:t*e.y}},mag:function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},normalize:function(t){return e.vector.mult(t,1/e.vector.mag(t))},rot:function(a){return{x:a.y,y:-a.x}}}}(e.skanaar||(e.skanaar={}))}(o||(o={})),function(e){function n(t,n){n.width=Math.max.apply(Math,n.compartments.map((function(e){return e.width}))),n.height=e.skanaar.sum(n.compartments,(function(e){return e.height})),n.dividers=[];for(var r=0,o=0,h=n.compartments;o<h.length;o++){var d=h[o];d.x=0,d.y=r,d.width=n.width,r+=d.height,d!=e.skanaar.last(n.compartments)&&n.dividers.push([{x:0,y:r},{x:n.width,y:r}])}}function r(e,t){t.dividers=[],t.compartments=[],t.width=2.5*e.fontSize,t.height=2.5*e.fontSize}e.styles={ABSTRACT:e.buildStyle({visual:"class"},{center:!0,italic:!0}),ACTOR:e.buildStyle({visual:"actor"},{center:!0},{center:!0}),CHOICE:e.buildStyle({visual:"rhomb"},{center:!0},{center:!0}),CLASS:e.buildStyle({visual:"class"},{center:!0,bold:!0}),DATABASE:e.buildStyle({visual:"database"},{center:!0,bold:!0},{center:!0}),END:e.buildStyle({visual:"end",empty:!0},{}),FRAME:e.buildStyle({visual:"frame"},{}),HIDDEN:e.buildStyle({visual:"hidden",empty:!0},{}),INPUT:e.buildStyle({visual:"input"},{center:!0}),INSTANCE:e.buildStyle({visual:"class"},{center:!0,underline:!0}),LABEL:e.buildStyle({visual:"none"},{}),NOTE:e.buildStyle({visual:"note"},{}),PACKAGE:e.buildStyle({visual:"package"},{}),RECEIVER:e.buildStyle({visual:"receiver"},{}),REFERENCE:e.buildStyle({visual:"class",dashed:!0},{center:!0}),SENDER:e.buildStyle({visual:"sender"},{}),START:e.buildStyle({visual:"start",empty:!0},{}),STATE:e.buildStyle({visual:"roundrect"},{center:!0}),TABLE:e.buildStyle({visual:"table"},{center:!0,bold:!0}),TRANSCEIVER:e.buildStyle({visual:"transceiver"},{}),USECASE:e.buildStyle({visual:"ellipse"},{center:!0},{center:!0})},e.layouters={actor:function(n,r){r.width=Math.max.apply(Math,t([2*n.padding],r.compartments.map((function(e){return e.width})))),r.height=3*n.padding+e.skanaar.sum(r.compartments,(function(e){return e.height})),r.dividers=[];for(var o=3*n.padding,h=0,d=r.compartments;h<d.length;h++){var l=d[h];l.x=0,l.y=o,l.width=r.width,o+=l.height,l!=e.skanaar.last(r.compartments)&&r.dividers.push([{x:n.padding,y:o},{x:r.width-n.padding,y:o}])}},class:n,database:function(t,n){n.width=Math.max.apply(Math,n.compartments.map((function(e){return e.width}))),n.height=e.skanaar.sum(n.compartments,(function(e){return e.height}))+2*t.padding,n.dividers=[];for(var r=1.5*t.padding,o=0,h=n.compartments;o<h.length;o++){var d=h[o];if(d.x=0,d.y=r,d.width=n.width,r+=d.height,d!=e.skanaar.last(n.compartments)){var path=e.skanaar.range([0,Math.PI],16).map((function(a){return{x:.5*n.width*(1-Math.cos(a)),y:r+t.padding*(.75*Math.sin(a)-.5)}}));n.dividers.push(path)}}},ellipse:function(t,n){var r=Math.max.apply(Math,n.compartments.map((function(e){return e.width}))),o=e.skanaar.sum(n.compartments,(function(e){return e.height}));n.width=1.25*r,n.height=1.25*o,n.dividers=[];for(var h=.125*o,d=function(e){return e*e},l=function(e){return Math.sqrt(d(.5)-d(e/n.height-.5))*n.width},c=0,f=n.compartments;c<f.length;c++){var v=f[c];v.x=.125*r,v.y=h,v.width=r,h+=v.height,v!=e.skanaar.last(n.compartments)&&n.dividers.push([{x:n.width/2+l(h)-1,y:h},{x:n.width/2-l(h)+1,y:h}])}},end:r,frame:function(e,t){var r=t.compartments[0].width,o=t.compartments[0].height;n(0,t),t.dividers.length&&t.dividers.shift(),t.dividers.unshift([{x:0,y:o},{x:r-o/4,y:o},{x:r+o/4,y:o/2},{x:r+o/4,y:0}])},hidden:function(e,t){t.dividers=[],t.compartments=[],t.width=1,t.height=1},input:n,none:n,note:n,package:n,receiver:n,rhomb:function(t,n){var r=Math.max.apply(Math,n.compartments.map((function(e){return e.width}))),o=e.skanaar.sum(n.compartments,(function(e){return e.height}));n.width=1.5*r,n.height=1.5*o,n.dividers=[];for(var h=.25*o,d=0,l=n.compartments;d<l.length;d++){var c=l[d];c.x=.25*r,c.y=h,c.width=r,h+=c.height;var f=n.width/n.height;c!=e.skanaar.last(n.compartments)&&n.dividers.push([{x:n.width/2+(h<n.height/2?h*f:(n.height-h)*f),y:h},{x:n.width/2-(h<n.height/2?h*f:(n.height-h)*f),y:h}])}},roundrect:n,sender:n,start:r,table:function(r,o){if(1!=o.compartments.length){for(var h,d,l=o.compartments.slice(1),c=[[]],f=0,v=l;f<v.length;f++){var y=v[f];y==e.skanaar.last(l)||(d=y).lines.length||d.nodes.length||d.relations.length||!e.skanaar.last(c).length?(h=void 0,h=e.skanaar.last(c),c[0]!=h&&c[0].length==h.length?c.push([y]):e.skanaar.last(c).push(y)):c.push([])}var header=o.compartments[0],m=Math.max.apply(Math,t([header.width/c[0].length],l.map((function(e){return e.width})))),w=Math.max.apply(Math,l.map((function(e){return e.height})));o.width=m*c[0].length,o.height=header.height+w*c.length;var x=header.height;o.dividers=t([[{x:0,y:header.height},{x:0,y:header.height}]],c.map((function(e,i){return[{x:0,y:x+i*w},{x:o.width,y:x+i*w}]})),c[0].map((function(e,i){return[{x:(i+1)*m,y:x},{x:(i+1)*m,y:o.height}]}))),header.x=0,header.y=0,header.width=o.width;for(var i=0;i<c.length;i++)for(var _=0;_<c[i].length;_++){var k=c[i][_];k.x=_*m,k.y=x+i*w,k.width=m}}else n(0,o)},transceiver:n},e.visualizers={actor:function(e,t,n,r,g){var a=r.padding/2,o=n+4*a,h={x:e.x,y:o-a};g.circle(h,a).fillAndStroke(),g.path([{x:e.x,y:o},{x:e.x,y:o+2*a}]).stroke(),g.path([{x:e.x-a,y:o+a},{x:e.x+a,y:o+a}]).stroke(),g.path([{x:e.x-a,y:o+a+r.padding},{x:e.x,y:o+r.padding},{x:e.x+a,y:o+a+r.padding}]).stroke()},class:function(e,t,n,r,g){g.rect(t,n,e.width,e.height).fillAndStroke()},database:function(e,t,n,r,g){var o=r.padding,h=n-o/2;g.rect(t,n+o,e.width,e.height-1.5*o).fill(),g.path([{x:t,y:h+1.5*o},{x:t,y:h-.5*o+e.height}]).stroke(),g.path([{x:t+e.width,y:h+1.5*o},{x:t+e.width,y:h-.5*o+e.height}]).stroke(),g.ellipse({x:e.x,y:h+1.5*o},e.width,1.5*o).fillAndStroke(),g.ellipse({x:e.x,y:h-.5*o+e.height},e.width,1.5*o,0,3.1416).fillAndStroke()},ellipse:function(e,t,n,r,g){g.ellipse({x:e.x,y:e.y},e.width,e.height).fillAndStroke()},end:function(e,t,n,r,g){g.circle({x:e.x,y:n+e.height/2},e.height/3).fillAndStroke(),g.fillStyle(r.stroke),g.circle({x:e.x,y:n+e.height/2},e.height/3-r.padding/2).fill()},frame:function(e,t,n,r,g){g.rect(t,n,e.width,e.height).fillAndStroke()},hidden:function(e,t,n,r,g){},input:function(e,t,n,r,g){g.circuit([{x:t+r.padding,y:n},{x:t+e.width,y:n},{x:t+e.width-r.padding,y:n+e.height},{x:t,y:n+e.height}]).fillAndStroke()},none:function(e,t,n,r,g){},note:function(e,t,n,r,g){g.circuit([{x:t,y:n},{x:t+e.width-r.padding,y:n},{x:t+e.width,y:n+r.padding},{x:t+e.width,y:n+e.height},{x:t,y:n+e.height},{x:t,y:n}]).fillAndStroke(),g.path([{x:t+e.width-r.padding,y:n},{x:t+e.width-r.padding,y:n+r.padding},{x:t+e.width,y:n+r.padding}]).stroke()},package:function(e,t,n,r,g){var o=e.compartments[0].height;g.rect(t,n+o,e.width,e.height-o).fillAndStroke();var h=g.measureText(e.name).width+2*r.padding;g.circuit([{x:t,y:n+o},{x:t,y:n},{x:t+h,y:n},{x:t+h,y:n+o}]).fillAndStroke()},receiver:function(e,t,n,r,g){g.circuit([{x:t-r.padding,y:n},{x:t+e.width,y:n},{x:t+e.width,y:n+e.height},{x:t-r.padding,y:n+e.height},{x:t,y:n+e.height/2}]).fillAndStroke()},rhomb:function(e,t,n,r,g){g.circuit([{x:e.x,y:n},{x:t+e.width,y:e.y},{x:e.x,y:n+e.height},{x:t,y:e.y}]).fillAndStroke()},roundrect:function(e,t,n,r,g){var o=Math.min(2*r.padding*r.leading,e.height/2);g.roundRect(t,n,e.width,e.height,o).fillAndStroke()},sender:function(e,t,n,r,g){g.circuit([{x:t,y:n},{x:t+e.width-r.padding,y:n},{x:t+e.width,y:n+e.height/2},{x:t+e.width-r.padding,y:n+e.height},{x:t,y:n+e.height}]).fillAndStroke()},start:function(e,t,n,r,g){g.fillStyle(r.stroke),g.circle({x:e.x,y:n+e.height/2},e.height/2.5).fill()},table:function(e,t,n,r,g){g.rect(t,n,e.width,e.height).fillAndStroke()},transceiver:function(e,t,n,r,g){g.circuit([{x:t-r.padding,y:n},{x:t+e.width,y:n},{x:t+e.width+r.padding,y:n+e.height/2},{x:t+e.width,y:n+e.height},{x:t-r.padding,y:n+e.height},{x:t,y:n+e.height/2}]).fillAndStroke()}}}(o||(o={}));var d=function(){var e=function(e,t,n,r){for(n=n||{},r=e.length;r--;n[e[r]]=t);return n},t=[1,5],n=[1,8],r=[5,6,12,14],o=[12,14],h=[1,22],d={trace:function(){},yy:{},symbols_:{error:2,root:3,compartment:4,EOF:5,SEP:6,slot:7,IDENT:8,class:9,association:10,parts:11,"|":12,"[":13,"]":14,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",6:"SEP",8:"IDENT",12:"|",13:"[",14:"]"},productions_:[0,[3,2],[3,3],[3,4],[3,3],[7,1],[7,1],[7,1],[4,1],[4,3],[11,1],[11,3],[11,2],[10,3],[9,3]],performAction:function(e,t,n,r,o,h,d){var l=h.length-1;switch(o){case 1:case 2:return h[l-1];case 3:case 4:return h[l-2];case 5:this.$=h[l].trim().replace(/\\(\[|\]|\|)/g,"$1");break;case 6:case 7:this.$=h[l];break;case 8:case 10:this.$=[h[l]];break;case 9:this.$=h[l-2].concat(h[l]);break;case 11:this.$=h[l-2].concat([h[l]]);break;case 12:this.$=h[l-1].concat([[]]);break;case 13:var c=h[l-1].trim().replace(/\\(\[|\]|\|)/g,"$1").match("^(.*?)([<:o+]*[-_]/?[-_]*[:o+>]*)(.*)$");if(!c)throw new Error("line "+d[l].first_line+": Classifiers must be separated by a relation or a line break");this.$={assoc:c[2],start:h[l-2],end:h[l],startLabel:c[1].trim(),endLabel:c[3].trim()};break;case 14:var f="CLASS",v=h[l-1][0][0],y=h[l-1][0][0].match("<([a-z]*)>(.*)");y&&(f=y[1].toUpperCase(),v=y[2].trim()),h[l-1][0][0]=v,this.$={type:f,id:v,parts:h[l-1]}}},table:[{3:1,4:2,6:[1,3],7:4,8:t,9:6,10:7,13:n},{1:[3]},{5:[1,9],6:[1,10]},{4:11,7:4,8:t,9:6,10:7,13:n},e(r,[2,8]),e(r,[2,5]),e(r,[2,6],{8:[1,12]}),e(r,[2,7]),{4:14,7:4,8:t,9:6,10:7,11:13,13:n},{1:[2,1]},{5:[1,15],7:16,8:t,9:6,10:7,13:n},{5:[1,17],6:[1,18]},{9:19,13:n},{12:[1,21],14:[1,20]},e(o,[2,10],{6:h}),{1:[2,4]},e(r,[2,9]),{1:[2,2]},{5:[1,23],7:16,8:t,9:6,10:7,13:n},e(r,[2,13]),e([5,6,8,12,14],[2,14]),e(o,[2,12],{7:4,9:6,10:7,4:24,8:t,13:n}),{7:16,8:t,9:6,10:7,13:n},{1:[2,3]},e(o,[2,11],{6:h})],defaultActions:{9:[2,1],15:[2,4],17:[2,2],23:[2,3]},parseError:function(e,t){if(!t.recoverable){var n=new Error(e);throw n.hash=t,n}this.trace(e)},parse:function(input){var e=this,t=[0],n=[null],r=[],table=this.table,o="",h=0,d=0,l=0,c=2,f=1,v=r.slice.call(arguments,1),y=Object.create(this.lexer),m={yy:{}};for(var w in this.yy)Object.prototype.hasOwnProperty.call(this.yy,w)&&(m.yy[w]=this.yy[w]);y.setInput(input,m.yy),m.yy.lexer=y,m.yy.parser=this,void 0===y.yylloc&&(y.yylloc={});var x=y.yylloc;r.push(x);var _=y.options&&y.options.ranges;"function"==typeof m.yy.parseError?this.parseError=m.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var symbol,k,E,S,N,p,I,T,M,L=function(){var t;return"number"!=typeof(t=y.lex()||f)&&(t=e.symbols_[t]||t),t},C={};;){if(E=t[t.length-1],this.defaultActions[E]?S=this.defaultActions[E]:(null==symbol&&(symbol=L()),S=table[E]&&table[E][symbol]),void 0===S||!S.length||!S[0]){var A="";for(p in M=[],table[E])this.terminals_[p]&&p>c&&M.push("'"+this.terminals_[p]+"'");A=y.showPosition?"Parse error on line "+(h+1)+":\n"+y.showPosition()+"\nExpecting "+M.join(", ")+", got '"+(this.terminals_[symbol]||symbol)+"'":"Parse error on line "+(h+1)+": Unexpected "+(symbol==f?"end of input":"'"+(this.terminals_[symbol]||symbol)+"'"),this.parseError(A,{text:y.match,token:this.terminals_[symbol]||symbol,line:y.yylineno,loc:x,expected:M})}if(S[0]instanceof Array&&S.length>1)throw new Error("Parse Error: multiple actions possible at state: "+E+", token: "+symbol);switch(S[0]){case 1:t.push(symbol),n.push(y.yytext),r.push(y.yylloc),t.push(S[1]),symbol=null,k?(symbol=k,k=null):(d=y.yyleng,o=y.yytext,h=y.yylineno,x=y.yylloc,l>0&&l--);break;case 2:if(I=this.productions_[S[1]][1],C.$=n[n.length-I],C._$={first_line:r[r.length-(I||1)].first_line,last_line:r[r.length-1].last_line,first_column:r[r.length-(I||1)].first_column,last_column:r[r.length-1].last_column},_&&(C._$.range=[r[r.length-(I||1)].range[0],r[r.length-1].range[1]]),void 0!==(N=this.performAction.apply(C,[o,d,h,m.yy,S[1],n,r].concat(v))))return N;I&&(t=t.slice(0,-1*I*2),n=n.slice(0,-1*I),r=r.slice(0,-1*I)),t.push(this.productions_[S[1]][0]),n.push(C.$),r.push(C._$),T=table[t[t.length-2]][t[t.length-1]],t.push(T);break;case 3:return!0}}return!0}},l={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(input,e){return this.yy=e||this.yy||{},this._input=input,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,n=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.offset-=t;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var o=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[o[0],o[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var pre=this.pastInput(),e=new Array(pre.length+1).join("-");return pre+this.upcomingInput()+"\n"+e+"^"},test_match:function(e,t){var n,r,o;if(this.options.backtrack_lexer&&(o={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(o.yylloc.range=this.yylloc.range.slice(0))),(r=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],n=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var h in o)this[h]=o[h];return!1}return!1},next:function(){if(this.done)return this.EOF;var e,t,n,r;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var o=this._currentRules(),i=0;i<o.length;i++)if((n=this._input.match(this.rules[o[i]]))&&(!t||n[0].length>t[0].length)){if(t=n,r=i,this.options.backtrack_lexer){if(!1!==(e=this.test_match(n,o[i])))return e;if(this._backtrack){t=!1;continue}return!1}if(!this.options.flex)break}return t?!1!==(e=this.test_match(t,o[r]))&&e:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return e||this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(e){return(e=this.conditionStack.length-1-Math.abs(e||0))>=0?this.conditionStack[e]:"INITIAL"},pushState:function(e){this.begin(e)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(e,t,n,r){switch(n){case 0:return 12;case 1:return 8;case 2:return 13;case 3:return 14;case 4:return 6;case 5:return 5;case 6:return"INVALID"}},rules:[/^(?:\s*\|\s*)/,/^(?:(\\(\[|\]|\|)|[^\]\[|;\n])+)/,/^(?:\[)/,/^(?:\s*\])/,/^(?:[ ]*(;|\n)+[ ]*)/,/^(?:$)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6],inclusive:!0}}};function c(){this.yy={}}return d.lexer=l,c.prototype=d,d.Parser=c,new c}();return o},e.exports?e.exports=r(n(287)):window.nomnoml=r(graphre)},287:function(e,t,n){e.exports=n(288)},288:function(e,t,n){!function(e){"use strict";class t{constructor(){var e={};e._next=e._prev=e,this._sentinel=e}dequeue(){var e=this._sentinel,t=e._prev;if(t!==e)return n(t),t}enqueue(e){var t=this._sentinel,r=e;r._prev&&r._next&&n(r),r._next=t._next,t._next._prev=r,t._next=r,r._prev=t}toString(){for(var e=[],t=this._sentinel,n=t._prev;n!==t;)e.push(JSON.stringify(n,r)),n=n._prev;return"["+e.join(", ")+"]"}}function n(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function r(e,t){if("_next"!==e&&"_prev"!==e)return t}var o=Object.freeze({__proto__:null,List:t});const i={};function a(e){var t=[];for(var n of e)t.push(...n);return t}function s(e,t){return null!=e&&e.hasOwnProperty(t)}function h(e){const t=null==e?0:e.length;return t?e[t-1]:void 0}function u(e,t){e=Object(e);const n={};return Object.keys(e).forEach((r=>{n[r]=t(e[r],r)})),n}function d(e,t){var n=Number.POSITIVE_INFINITY,r=void 0;for(var o of e){var i=t(o);i<n&&(n=i,r=o)}return r}function l(e,t){var n=e<t?1:-1;let r=-1,o=Math.max(Math.ceil((t-e)/(n||1)),0);const i=new Array(o);for(;o--;)i[++r]=e,e+=n;return i}function c(e,t){return e.slice().sort(((e,n)=>t(e)-t(n)))}function f(e){return i[e]||(i[e]=0),`${e}${++i[e]}`}function v(e){return e?Object.keys(e).map((t=>e[t])):[]}function g(e,t){for(var n=[],r=0;r<e;r++)n.push(t());return n}function p(e){return void 0===e}function y(e,t){for(var n of Object.keys(e))t(e[n],n)}function m(e){return 0===Object.keys(e).length}function w(e){var t={},n=e.nodes().filter((t=>!e.children(t).length)),r=g(Math.max(...n.map((t=>e.node(t).rank)))+1,(()=>[]));return c(n,(t=>e.node(t).rank)).forEach((function n(o){if(!s(t,o)){t[o]=!0;var i=e.node(o);r[i.rank].push(o),e.successors(o).forEach(n)}})),r}function b(e,t){for(var n=0,r=1;r<t.length;++r)n+=x(e,t[r-1],t[r]);return n}function x(e,t,n){for(var r={},o=0;o<n.length;o++)r[n[o]]=o;for(var i=a(t.map((function(t){return c(e.outEdges(t).map((function(t){return{pos:r[t.w],weight:e.edge(t).weight}})),(e=>e.pos))}))),s=1;s<n.length;)s<<=1;var h=2*s-1;s-=1;var u=g(h,(()=>0)),d=0;return i.forEach((function(e){var t=e.pos+s;u[t]+=e.weight;for(var n=0;t>0;)t%2&&(n+=u[t+1]),u[t=t-1>>1]+=e.weight;d+=e.weight*n})),d}function _(e,t){return t?t.map((function(t){var n=e.inEdges(t);if(n.length){var r=n.reduce((function(t,n){var r=e.edge(n),o=e.node(n.v);return{sum:t.sum+r.weight*o.order,weight:t.weight+r.weight}}),{sum:0,weight:0});return{v:t,barycenter:r.sum/r.weight,weight:r.weight}}return{v:t}})):[]}function k(e,t){for(var n={},r=0;r<e.length;r++){var o=e[r],i=n[o.v]={indegree:0,in:[],out:[],vs:[o.v],i:r};void 0!==o.barycenter&&(i.barycenter=o.barycenter,i.weight=o.weight)}for(var a of t.edges()){var s=n[a.v],h=n[a.w];void 0!==s&&void 0!==h&&(h.indegree++,s.out.push(n[a.w]))}return function(e){var t=[];function n(e){return function(t){t.merged||(void 0===t.barycenter||void 0===e.barycenter||t.barycenter>=e.barycenter)&&function(e,t){var n=0,r=0;e.weight&&(n+=e.barycenter*e.weight,r+=e.weight),t.weight&&(n+=t.barycenter*t.weight,r+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=n/r,e.weight=r,e.i=Math.min(t.i,e.i),t.merged=!0}(e,t)}}function r(t){return function(n){n.in.push(t),0==--n.indegree&&e.push(n)}}for(;e.length;){var o=e.pop();t.push(o),o.in.reverse().forEach(n(o)),o.out.forEach(r(o))}return t.filter((e=>!e.merged)).map((function(e){var t={vs:e.vs,i:e.i};return"barycenter"in e&&(t.barycenter=e.barycenter),"weight"in e&&(t.weight=e.weight),t}))}(v(n).filter((e=>!e.indegree)))}var E="\0";class S{constructor(e={}){this._label=void 0,this._nodeCount=0,this._edgeCount=0,this._isDirected=!s(e,"directed")||e.directed,this._isMultigraph=!!s(e,"multigraph")&&e.multigraph,this._isCompound=!!s(e,"compound")&&e.compound,this._defaultNodeLabelFn=()=>{},this._defaultEdgeLabelFn=()=>{},this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children["\0"]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(e){return this._label=e,this}graph(){return this._label}setDefaultNodeLabel(e){var t;return t=e,this._defaultNodeLabelFn="function"!=typeof t?()=>e:e,this}nodeCount(){return this._nodeCount}nodes(){return Object.keys(this._nodes)}sources(){var e=this;return this.nodes().filter((function(t){return m(e._in[t])}))}sinks(){var e=this;return this.nodes().filter((t=>m(e._out[t])))}setNodes(e,t){for(var n of e)void 0!==t?this.setNode(n,t):this.setNode(n);return this}setNode(e,t){return s(this._nodes,e)?(arguments.length>1&&(this._nodes[e]=t),this):(this._nodes[e]=arguments.length>1?t:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]=E,this._children[e]={},this._children["\0"][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)}node(e){return this._nodes[e]}hasNode(e){return s(this._nodes,e)}removeNode(e){var t=this;if(s(this._nodes,e)){var n=e=>{t.removeEdge(this._edgeObjs[e])};if(delete this._nodes[e],this._isCompound){for(var r of(this._removeFromParentsChildList(e),delete this._parent[e],this.children(e)))t.setParent(r);delete this._children[e]}for(var o of Object.keys(this._in[e]))n(o);for(var o of(delete this._in[e],delete this._preds[e],Object.keys(this._out[e])))n(o);delete this._out[e],delete this._sucs[e],--this._nodeCount}return this}setParent(e,t){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(void 0===t)t=E;else{for(var n=t+="";!p(n);n=this.parent(n))if(n===e)throw new Error(`Setting ${t} as parent of ${e} would create a cycle`);this.setNode(t)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=t,this._children[t][e]=!0,this}_removeFromParentsChildList(e){delete this._children[this._parent[e]][e]}parent(e){if(this._isCompound){var t=this._parent[e];if(t!==E)return t}}children(e){if(p(e)&&(e=E),this._isCompound){var t=this._children[e];return t?Object.keys(t):void 0}return e===E?this.nodes():this.hasNode(e)?[]:void 0}predecessors(e){var t=this._preds[e];if(t)return Object.keys(t)}successors(e){var t=this._sucs[e];if(t)return Object.keys(t)}neighbors(e){var t=this.predecessors(e);if(t)return function(e,t){var n=[...e];for(var r of t)-1===n.indexOf(r)&&n.push(r);return n}(t,this.successors(e))}isLeaf(e){return 0===(this.isDirected()?this.successors(e):this.neighbors(e)).length}filterNodes(e){var t=new S({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});t.setGraph(this.graph());var n=this;y(this._nodes,(function(n,r){e(r)&&t.setNode(r,n)})),y(this._edgeObjs,(function(e){t.hasNode(e.v)&&t.hasNode(e.w)&&t.setEdge(e,n.edge(e))}));var r={};function o(e){var i=n.parent(e);return void 0===i||t.hasNode(i)?(r[e]=i,i):i in r?r[i]:o(i)}if(this._isCompound)for(var i of t.nodes())t.setParent(i,o(i));return t}setDefaultEdgeLabel(e){var t;return t=e,this._defaultEdgeLabelFn="function"!=typeof t?()=>e:e,this}edgeCount(){return this._edgeCount}edges(){return Object.values(this._edgeObjs)}setPath(e,t){var n=this,r=arguments;return e.reduce((function(e,o){return r.length>1?n.setEdge(e,o,t):n.setEdge(e,o),o})),this}setEdge(e,t,n,r){var o=!1,i=e;"object"==typeof i&&null!==i&&"v"in i?(e=i.v,t=i.w,r=i.name,2===arguments.length&&(n=arguments[1],o=!0)):(e=i,t=arguments[1],r=arguments[3],arguments.length>2&&(n=arguments[2],o=!0)),e=""+e,t=""+t,p(r)||(r=""+r);var a=M(this._isDirected,e,t,r);if(s(this._edgeLabels,a))return o&&(this._edgeLabels[a]=n),this;if(!p(r)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(t),this._edgeLabels[a]=o?n:this._defaultEdgeLabelFn(e,t,r);var h=function(e,t,n,r){var o=""+t,i=""+n;if(!e&&o>i){var a=o;o=i,i=a}var s={v:o,w:i};return r&&(s.name=r),s}(this._isDirected,e,t,r);return e=h.v,t=h.w,Object.freeze(h),this._edgeObjs[a]=h,I(this._preds[t],e),I(this._sucs[e],t),this._in[t][a]=h,this._out[e][a]=h,this._edgeCount++,this}edge(e,t,n){var r="object"==typeof e?L(this._isDirected,e):M(this._isDirected,e,t,n);return this._edgeLabels[r]}hasEdge(e,t,n){var r=1===arguments.length?L(this._isDirected,arguments[0]):M(this._isDirected,e,t,n);return s(this._edgeLabels,r)}removeEdge(e,t,n){var r="object"==typeof e?L(this._isDirected,e):M(this._isDirected,e,t,n),o=this._edgeObjs[r];return o&&(e=o.v,t=o.w,delete this._edgeLabels[r],delete this._edgeObjs[r],T(this._preds[t],e),T(this._sucs[e],t),delete this._in[t][r],delete this._out[e][r],this._edgeCount--),this}inEdges(e,t){var n=this._in[e];if(n){var r=Object.values(n);return t?r.filter((function(e){return e.v===t})):r}}outEdges(e,t){var n=this._out[e];if(n){var r=Object.values(n);return t?r.filter((function(e){return e.w===t})):r}}nodeEdges(e,t){var n=this.inEdges(e,t);if(n)return n.concat(this.outEdges(e,t))}}class N extends S{}function I(e,t){e[t]?e[t]++:e[t]=1}function T(e,t){--e[t]||delete e[t]}function M(e,t,n,r){var o=""+t,i=""+n;if(!e&&o>i){var a=o;o=i,i=a}return o+""+i+""+(p(r)?"\0":r)}function L(e,t){return M(e,t.v,t.w,t.name)}function C(e,t,n,r){var o;do{o=f(r)}while(e.hasNode(o));return n.dummy=t,e.setNode(o,n),o}function A(e){var t=(new S).setGraph(e.graph());for(var n of e.nodes())t.setNode(n,e.node(n));for(var r of e.edges()){var o=t.edge(r.v,r.w)||{weight:0,minlen:1},i=e.edge(r);t.setEdge(r.v,r.w,{weight:o.weight+i.weight,minlen:Math.max(o.minlen,i.minlen)})}return t}function O(e){var t=new S({multigraph:e.isMultigraph()}).setGraph(e.graph());for(var n of e.nodes())e.children(n).length||t.setNode(n,e.node(n));for(var r of e.edges())t.setEdge(r,e.edge(r));return t}function j(e,t){var n,r,o=e.x,i=e.y,a=t.x-o,s=t.y-i,h=e.width/2,u=e.height/2;if(!a&&!s)throw new Error("Not possible to find intersection inside of the rectangle");return Math.abs(s)*h>Math.abs(a)*u?(s<0&&(u=-u),n=u*a/s,r=u):(a<0&&(h=-h),n=h,r=h*s/a),{x:o+n,y:i+r}}function P(e){var t=g(F(e)+1,(()=>[]));for(var n of e.nodes()){var r=e.node(n),o=r.rank;void 0!==o&&(t[o][r.order]=n)}return t}function z(e){var t=Math.min(...e.nodes().map((t=>e.node(t).rank)).filter((e=>void 0!==e)));for(var n of e.nodes()){var r=e.node(n);s(r,"rank")&&(r.rank-=t)}}function R(e){var t=Math.min(...e.nodes().map((t=>e.node(t).rank)).filter((e=>void 0!==e))),n=[];for(var r of e.nodes()){var o=e.node(r).rank-t;n[o]||(n[o]=[]),n[o].push(r)}for(var i=0,a=e.graph().nodeRankFactor,s=0;s<n.length;s++){var h=n[s];if(void 0===h&&s%a!=0)--i;else if(i&&null!=h)for(var r of h)e.node(r).rank+=i}}function D(e,t,n,r){var o={width:0,height:0};return arguments.length>=4&&(o.rank=n,o.order=r),C(e,"border",o,t)}function F(e){var t=e.nodes().map((t=>e.node(t).rank)).filter((e=>void 0!==e));return Math.max(...t)}function W(e,t){var n=[],r=[];for(var o of e)t(o)?n.push(o):r.push(o);return{lhs:n,rhs:r}}function B(e,t){var n=Date.now();try{return t()}finally{console.log(e+" time: "+(Date.now()-n)+"ms")}}function G(e,t){return t()}var $=Object.freeze({__proto__:null,addDummyNode:C,simplify:A,asNonCompoundGraph:O,successorWeights:function(e){var t={};for(var n of e.nodes()){var r={};for(var o of e.outEdges(n))r[o.w]=(r[o.w]||0)+e.edge(o).weight;t[n]=r}return t},predecessorWeights:function(e){var t={};for(var n of e.nodes()){var r={};for(var o of e.inEdges(n))r[o.v]=(r[o.v]||0)+e.edge(o).weight;t[n]=r}return t},intersectRect:j,buildLayerMatrix:P,normalizeRanks:z,removeEmptyRanks:R,addBorderNode:D,maxRank:F,partition:W,time:B,notime:G});function q(e,t){var n,r=W(e,(function(e){return s(e,"barycenter")})),o=r.lhs,i=c(r.rhs,(e=>-e.i)),h=[],u=0,d=0,l=0;for(var f of(o.sort((n=!!t,function(e,t){return e.barycenter<t.barycenter?-1:e.barycenter>t.barycenter?1:n?t.i-e.i:e.i-t.i})),l=V(h,i,l),o))l+=f.vs.length,h.push(f.vs),u+=f.barycenter*f.weight,d+=f.weight,l=V(h,i,l);var v={vs:a(h)};return d&&(v.barycenter=u/d,v.weight=d),v}function V(e,t,n){for(var r;t.length&&(r=h(t)).i<=n;)t.pop(),e.push(r.vs),n++;return n}function Y(e,t,n,r){var o=e.children(t),i=e.node(t),h=i?i.borderLeft:void 0,u=i?i.borderRight:void 0,d={};h&&(o=o.filter((e=>e!==h&&e!==u)));var l=_(e,o);for(var c of l)if(e.children(c.v).length){var f=Y(e,c.v,n,r);d[c.v]=f,s(f,"barycenter")&&H(c,f)}var v=k(l,n);!function(e,t){for(var n of e)n.vs=a(n.vs.map((function(e){return t[e]?t[e].vs:[e]})))}(v,d);var g=q(v,r);if(h&&(g.vs=[h,...g.vs,u],e.predecessors(h).length)){var p=e.node(e.predecessors(h)[0]),y=e.node(e.predecessors(u)[0]);s(g,"barycenter")||(g.barycenter=0,g.weight=0),g.barycenter=(g.barycenter*g.weight+p.order+y.order)/(g.weight+2),g.weight+=2}return g}function H(e,t){void 0!==e.barycenter?(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight):(e.barycenter=t.barycenter,e.weight=t.weight)}function J(e,t,n){var r=function(e){for(var t;e.hasNode(t=f("_root")););return t}(e),o=new S({compound:!0}).setGraph({root:r}).setDefaultNodeLabel((t=>e.node(t)));for(var i of e.nodes()){var a=e.node(i),h=e.parent(i);if(a.rank===t||a.minRank<=t&&t<=a.maxRank){for(var u of(o.setNode(i),o.setParent(i,h||r),e[n](i))){var d=u.v===i?u.w:u.v,l=o.edge(d,i),c=void 0!==l?l.weight:0;o.setEdge(d,i,{weight:e.edge(u).weight+c})}s(a,"minRank")&&o.setNode(i,{borderLeft:a.borderLeft[t],borderRight:a.borderRight[t]})}}return o}function U(e,t,n){var r,o={};for(var i of n)!function(){for(var n,a=e.parent(i);a;){var s=e.parent(a);if(s?(n=o[s],o[s]=a):(n=r,r=a),n&&n!==a)return void t.setEdge(n,a);a=s}}()}function Q(e){var t=F(e),n=K(e,l(1,t+1),"inEdges"),r=K(e,l(t-1,-1),"outEdges"),o=w(e);Z(e,o);for(var i,a=Number.POSITIVE_INFINITY,s=0,h=0;h<4;++s,++h){X(s%2?n:r,s%4>=2);var u=b(e,o=P(e));u<a&&(h=0,i=o.map((e=>e.slice(0))),a=u)}Z(e,i)}function K(e,t,n){return t.map((t=>J(e,t,n)))}function X(e,t){var n=new S;for(var r of e){var o=r.graph().root,i=Y(r,o,n,t);i.vs.map((function(e,t){r.node(e).order=t})),U(r,n,i.vs)}}function Z(e,t){for(var n of t)n.map((function(t,n){e.node(t).order=n}))}var ee=Object.freeze({__proto__:null,order:Q,addSubgraphConstraints:U,barycenter:_,buildLayerGraph:J,crossCount:b,initOrder:w,resolveConflicts:k,sortSubgraph:Y,sort:q});function te(e,t){var n={};return t.reduce((function(t,r){for(var o=0,i=0,a=t.length,s=h(r),u=0;u<r.length;u++){var d=r[u],l=re(e,d),c=l?e.node(l).order:a;if(l||d===s){for(var f of r.slice(i,u+1))for(var v of e.predecessors(f)){var g=e.node(v),p=g.order;!(p<o||c<p)||g.dummy&&e.node(f).dummy||ie(n,v,f)}i=u+1,o=c}}return r})),n}function ne(e,t){var n={};function r(t,r,o,i,a){var s;for(var h of l(r,o))if(s=t[h],e.node(s).dummy)for(var u of e.predecessors(s)){var d=e.node(u);d.dummy&&(d.order<i||d.order>a)&&ie(n,u,s)}}return t.reduce((function(t,n){for(var o,i=-1,a=0,s=0;s<n.length;s++){var h=s,u=n[s];if(void 0!==u){if("border"===e.node(u).dummy){var d=e.predecessors(u);d.length&&(r(n,a,h,i,o=e.node(d[0]).order),a=h,i=o)}r(n,a,n.length,o,t.length)}}return n})),n}function re(e,t){if(e.node(t).dummy)for(var n of e.predecessors(t))if(e.node(n).dummy)return n}function ie(e,t,n){if(t>n){var r=t;t=n,n=r}var o=e[t];o||(e[t]=o={}),o[n]=!0}function oe(e,t,n){if(t>n){var r=t;t=n,n=r}return s(e[t],n)}function ae(e,t,n,r){var o={},i={},a={};for(var s of t)for(var h=0;h<s.length;h++)o[d=s[h]]=d,i[d]=d,a[d]=h;for(var s of t){var u=-1;for(var d of s){var l=r(d);if(l.length)for(var f=((l=c(l,(e=>a[e]))).length-1)/2,v=Math.floor(f),g=Math.ceil(f);v<=g;++v){var p=l[v];i[d]===d&&u<a[p]&&!oe(n,d,p)&&(i[p]=d,i[d]=o[d]=o[p],u=a[p])}}}return{root:o,align:i}}function se(e,t,n,r,o){var i={},a=function(e,t,n,r){var o=new S,i=e.graph(),a=ce(i.nodesep,i.edgesep,r);for(var s of t){var h=null;for(var u of s){var d=n[u];if(o.setNode(d),h){var l=n[h],c=o.edge(l,d);o.setEdge(l,d,Math.max(a(e,u,h),c||0))}h=u}}return o}(e,t,n,o),s=o?"borderLeft":"borderRight";function h(e,t){for(var n=a.nodes(),r=n.pop(),o={};r;)o[r]?e(r):(o[r]=!0,n.push(r),n=n.concat(t(r))),r=n.pop()}for(var u of(h((function(e){i[e]=a.inEdges(e).reduce((function(e,t){return Math.max(e,i[t.v]+a.edge(t))}),0)}),(e=>a.predecessors(e))),h((function(t){var n=a.outEdges(t).reduce((function(e,t){return Math.min(e,i[t.w]-a.edge(t))}),Number.POSITIVE_INFINITY),r=e.node(t);n!==Number.POSITIVE_INFINITY&&r.borderType!==s&&(i[t]=Math.max(i[t],n))}),(e=>a.successors(e))),Object.keys(r))){var d=r[u];i[d]=i[n[d]]}return i}function he(e,t){return d(v(t),(function(t){var n=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY;for(var o in t){var i=t[o],a=fe(e,o)/2;n=Math.max(i+a,n),r=Math.min(i-a,r)}return n-r}))}function ue(e,t){var n=v(t),r=Math.min(...n),o=Math.max(...n);for(var i of["ul","ur","dl","dr"]){var a=i[1],s=e[i];if(s!==t){var h=v(s),d="l"===a?r-Math.min(...h):o-Math.max(...h);d&&(e[i]=u(s,(e=>e+d)))}}}function de(e,t){return u(e.ul,(function(n,r){if(t)return e[t.toLowerCase()][r];var o=c([e.ul[r],e.ur[r],e.dl[r],e.dr[r]],(e=>e));return(o[1]+o[2])/2}))}function le(e){var t,n=P(e),r=Object.assign(Object.assign({},te(e,n)),ne(e,n)),o={ul:{},ur:{},dl:{},dr:{}};for(var i of["u","d"])for(var a of(t="u"===i?n:n.map((e=>e)).reverse(),["l","r"])){"r"===a&&(t=t.map((e=>e.map((e=>e)).reverse())));var s=ae(0,t,r,("u"===i?e.predecessors:e.successors).bind(e)),h=se(e,t,s.root,s.align,"r"===a);"r"===a&&(h=u(h,(e=>-e))),o[i+a]=h}return ue(o,he(e,o)),de(o,e.graph().align)}function ce(e,t,n){return function(r,o,i){var a,h=r.node(o),u=r.node(i),d=0;if(d+=h.width/2,s(h,"labelpos"))switch(h.labelpos.toLowerCase()){case"l":a=-h.width/2;break;case"r":a=h.width/2}if(a&&(d+=n?a:-a),a=0,d+=(h.dummy?t:e)/2,d+=(u.dummy?t:e)/2,d+=u.width/2,s(u,"labelpos"))switch(u.labelpos.toLowerCase()){case"l":a=u.width/2;break;case"r":a=-u.width/2}return a&&(d+=n?a:-a),a=0,d}}function fe(e,t){return e.node(t).width}var ge=Object.freeze({__proto__:null,findType1Conflicts:te,findType2Conflicts:ne,findOtherInnerSegmentNode:re,addConflict:ie,hasConflict:oe,verticalAlignment:ae,horizontalCompaction:se,findSmallestWidthAlignment:he,alignCoordinates:ue,balance:de,positionX:le,sep:ce,width:fe});function ve(e){!function(e){var t=P(e),n=e.graph().ranksep,r=0;for(var o of t){var i=Math.max(...o.map((t=>e.node(t).height)));for(var a of o)e.node(a).y=r+i/2;r+=i+n}}(e=O(e));var t=le(e);for(var n in t)e.node(n).x=t[n]}var pe=Object.freeze({__proto__:null,bk:ge,position:ve});function ye(e){var t={};e.sources().forEach((function n(r){var o=e.node(r);if(s(t,r))return o.rank;t[r]=!0;var i=Math.min(...e.outEdges(r).map((t=>n(t.w)-e.edge(t).minlen)));return i!==Number.POSITIVE_INFINITY&&null!=i||(i=0),o.rank=i}))}function me(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}function we(e){var t,n=new S({directed:!1}),r=e.nodes()[0],o=e.nodeCount();for(n.setNode(r,{});i(e)<o;)t=a(e),s(e,n.hasNode(t.v)?me(e,t):-me(e,t));return n;function i(e){return n.nodes().forEach((function t(r){for(var o of e.nodeEdges(r)){var i=o.v,a=r===i?o.w:i;n.hasNode(a)||me(e,o)||(n.setNode(a,{}),n.setEdge(r,a,{}),t(a))}})),n.nodeCount()}function a(e){return d(e.edges(),(function(t){if(n.hasNode(t.v)!==n.hasNode(t.w))return me(e,t)}))}function s(e,t){for(var r of n.nodes())e.node(r).rank+=t}}class xe{constructor(){this._arr=[],this._keyIndices={}}size(){return this._arr.length}keys(){return this._arr.map((function(e){return e.key}))}has(e){return e in this._keyIndices}priority(e){var t=this._keyIndices[e];if(void 0!==t)return this._arr[t].priority}min(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key}add(e,t){var n=this._keyIndices;if(!((e=String(e))in n)){var r=this._arr,o=r.length;return n[e]=o,r.push({key:e,priority:t}),this._decrease(o),!0}return!1}removeMin(){this._swap(0,this._arr.length-1);var e=this._arr.pop();return delete this._keyIndices[e.key],this._heapify(0),e.key}decrease(e,t){var n=this._keyIndices[e];if(t>this._arr[n].priority)throw new Error("New priority is greater than current priority. Key: "+e+" Old: "+this._arr[n].priority+" New: "+t);this._arr[n].priority=t,this._decrease(n)}_heapify(e){var t=this._arr,n=2*e,r=n+1,o=e;n<t.length&&(o=t[n].priority<t[o].priority?n:o,r<t.length&&(o=t[r].priority<t[o].priority?r:o),o!==e&&(this._swap(e,o),this._heapify(o)))}_decrease(e){for(var t,n=this._arr,r=n[e].priority;0!==e&&!(n[t=e>>1].priority<r);)this._swap(e,t),e=t}_swap(e,t){var n=this._arr,r=this._keyIndices,o=n[e],i=n[t];n[e]=i,n[t]=o,r[i.key]=e,r[o.key]=t}}var be=()=>1;function _e(e,t,n,r){return function(e,t,n,r){var o,i,a={},s=new xe,h=function(e){var t=e.v!==o?e.v:e.w,r=a[t],h=n(e),u=i.distance+h;if(h<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+e+" Weight: "+h);u<r.distance&&(r.distance=u,r.predecessor=o,s.decrease(t,u))};for(e.nodes().forEach((function(e){var n=e===t?0:Number.POSITIVE_INFINITY;a[e]={distance:n},s.add(e,n)}));s.size()>0&&(o=s.removeMin(),(i=a[o]).distance!==Number.POSITIVE_INFINITY);)r(o).forEach(h);return a}(e,String(t),n||be,r||function(t){return e.outEdges(t)})}function ke(e){var t=0,n=[],r={},o=[];function i(a){var s=r[a]={onStack:!0,lowlink:t,index:t++};if(n.push(a),e.successors(a).forEach((function(e){e in r?r[e].onStack&&(s.lowlink=Math.min(s.lowlink,r[e].index)):(i(e),s.lowlink=Math.min(s.lowlink,r[e].lowlink))})),s.lowlink===s.index){var h,u=[];do{h=n.pop(),r[h].onStack=!1,u.push(h)}while(a!==h);o.push(u)}}return e.nodes().forEach((function(e){e in r||i(e)})),o}var Ee=()=>1;class Se extends Error{}function Ne(e){var t={},n={},r=[];function o(i){if(i in n)throw new Se;if(!(i in t)){for(var a of(n[i]=!0,t[i]=!0,e.predecessors(i)))o(a);delete n[i],r.push(i)}}for(var i of e.sinks())o(i);if(Object.keys(t).length!==e.nodeCount())throw new Se;return r}function Ie(e,t,n){var r=Array.isArray(t)?t:[t],o=(e.isDirected()?e.successors:e.neighbors).bind(e),i=[],a={};for(var s of r){if(!e.hasNode(s))throw new Error("Graph does not have node: "+s);Te(e,s,"post"===n,a,o,i)}return i}function Te(e,t,n,r,o,i){if(!(t in r)){for(var a of(r[t]=!0,n||i.push(t),o(t)))Te(e,a,n,r,o,i);n&&i.push(t)}}function Me(e,t){return Ie(e,t,"post")}function Le(e,t){return Ie(e,t,"pre")}var Ce=Object.freeze({__proto__:null,components:function(e){var t,n={},r=[];function o(r){if(!(r in n)){for(var i of(n[r]=!0,t.push(r),e.successors(r)))o(i);for(var a of e.predecessors(r))o(a)}}for(var i of e.nodes())t=[],o(i),t.length&&r.push(t);return r},dijkstra:_e,dijkstraAll:function(e,t,n){var r={};for(var o of e.nodes())r[o]=_e(e,o,t,n);return r},findCycles:function(e){return ke(e).filter((function(t){return t.length>1||1===t.length&&e.hasEdge(t[0],t[0])}))},floydWarshall:function(e,t,n){return function(e,t,n){var r={},o=e.nodes();return o.forEach((function(e){r[e]={},r[e][e]={distance:0},o.forEach((function(t){e!==t&&(r[e][t]={distance:Number.POSITIVE_INFINITY})})),n(e).forEach((function(n){var o=n.v===e?n.w:n.v,i=t(n);r[e][o]={distance:i,predecessor:e}}))})),o.forEach((function(e){var t=r[e];o.forEach((function(n){var i=r[n];o.forEach((function(n){var r=i[e],o=t[n],a=i[n],s=r.distance+o.distance;s<a.distance&&(a.distance=s,a.predecessor=o.predecessor)}))}))})),r}(e,t||Ee,n||function(t){return e.outEdges(t)})},isAcyclic:function(e){try{Ne(e)}catch(e){if(e instanceof Se)return!1;throw e}return!0},postorder:Me,preorder:Le,prim:function(e,t){var n,r=new N({}),o={},i=new xe;function a(e){var r=e.v===n?e.w:e.v,a=i.priority(r);if(void 0!==a){var s=t(e);s<a&&(o[r]=n,i.decrease(r,s))}}if(0===e.nodeCount())return r;for(n of e.nodes())i.add(n,Number.POSITIVE_INFINITY),r.setNode(n);i.decrease(e.nodes()[0],0);for(var s=!1;i.size()>0;){if((n=i.removeMin())in o)r.setEdge(n,o[n]);else{if(s)throw new Error("Input graph is not connected: "+e);s=!0}e.nodeEdges(n).forEach(a)}return r},tarjan:ke,topsort:Ne});function Ae(e){ye(e=A(e));var t,n=we(e);for(ze(n),Oe(n,e);t=De(n);)We(n,e,t,Fe(n,e,t))}function Oe(e,t){var n=Me(e,e.nodes());for(var r of n=n.slice(0,n.length-1))je(e,t,r)}function je(e,t,n){var r=e.node(n).parent;e.edge(n,r).cutvalue=Pe(e,t,n)}function Pe(e,t,n){var r,o,i=e.node(n).parent,a=!0,s=t.edge(n,i),h=0;for(var u of(s||(a=!1,s=t.edge(i,n)),h=s.weight,t.nodeEdges(n))){var d=u.v===n,l=d?u.w:u.v;if(l!==i){var c=d===a,f=t.edge(u).weight;if(h+=c?f:-f,r=n,o=l,e.hasEdge(r,o)){var v=e.edge(n,l).cutvalue;h+=c?-v:v}}}return h}function ze(e,t){arguments.length<2&&(t=e.nodes()[0]),Re(e,{},1,t)}function Re(e,t,n,r,o){var i=n,a=e.node(r);for(var h of(t[r]=!0,e.neighbors(r)))s(t,h)||(n=Re(e,t,n,h,r));return a.low=i,a.lim=n++,o?a.parent=o:delete a.parent,n}function De(e){for(var t of e.edges())if(e.edge(t).cutvalue<0)return t}function Fe(e,t,n){var r=n.v,o=n.w;t.hasEdge(r,o)||(r=n.w,o=n.v);var i=e.node(r),a=e.node(o),s=i,h=!1;return i.lim>a.lim&&(s=a,h=!0),d(t.edges().filter((function(t){return h===Be(e,e.node(t.v),s)&&h!==Be(e,e.node(t.w),s)})),(e=>me(t,e)))}function We(e,t,n,r){var o=n.v,i=n.w;e.removeEdge(o,i),e.setEdge(r.v,r.w,{}),ze(e),Oe(e,t),function(e,t){var n=function(e,t){for(var n of e.nodes())if(!t.node(n).parent)return n}(e,t),r=Le(e,n);for(var o of r=r.slice(1)){var i=e.node(o).parent,a=t.edge(o,i),s=!1;a||(a=t.edge(i,o),s=!0),t.node(o).rank=t.node(i).rank+(s?a.minlen:-a.minlen)}}(e,t)}function Be(e,t,n){return n.low<=t.lim&&t.lim<=n.lim}function Ge(e){switch(e.graph().ranker){case"network-simplex":Ye(e);break;case"tight-tree":Ve(e);break;case"longest-path":$e(e);break;default:Ye(e)}}Ae.initLowLimValues=ze,Ae.initCutValues=Oe,Ae.calcCutValue=Pe,Ae.leaveEdge=De,Ae.enterEdge=Fe,Ae.exchangeEdges=We;var $e=ye;function Ve(e){ye(e),we(e)}function Ye(e){Ae(e)}var qe=Object.freeze({__proto__:null,rank:Ge,tightTreeRanker:Ve,networkSimplexRanker:Ye,networkSimplex:Ae,feasibleTree:we,longestPath:ye}),He=e=>1;function Je(e,n){if(e.nodeCount()<=1)return[];var r=function(e,n){var r=new S,o=0,i=0;for(var a of e.nodes())r.setNode(a,{v:a,in:0,out:0});for(var s of e.edges()){var h=r.edge(s.v,s.w)||0,u=n(s),d=h+u;r.setEdge(s.v,s.w,d),i=Math.max(i,r.node(s.v).out+=u),o=Math.max(o,r.node(s.w).in+=u)}var l=g(i+o+3,(()=>new t)),c=o+1;for(var a of r.nodes())Qe(l,c,r.node(a));return{graph:r,buckets:l,zeroIdx:c}}(e,n||He);return a(function(e,t,n){for(var r,o=[],i=t[t.length-1],a=t[0];e.nodeCount();){for(;r=a.dequeue();)Ue(e,t,n,r);for(;r=i.dequeue();)Ue(e,t,n,r);if(e.nodeCount())for(var s=t.length-2;s>0;--s)if(r=t[s].dequeue()){o=o.concat(Ue(e,t,n,r,!0));break}}return o}(r.graph,r.buckets,r.zeroIdx).map((t=>e.outEdges(t.v,t.w))))}function Ue(e,t,n,r,o){var i=o?[]:void 0;for(var a of e.inEdges(r.v)){var s=e.edge(a),h=e.node(a.v);o&&i.push({v:a.v,w:a.w}),h.out-=s,Qe(t,n,h)}for(var a of e.outEdges(r.v)){s=e.edge(a);var u=a.w,d=e.node(u);d.in-=s,Qe(t,n,d)}return e.removeNode(r.v),i}function Qe(e,t,n){n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}var Ke={run:function(e){var t="greedy"===e.graph().acyclicer?Je(e,function(e){return function(t){return e.edge(t).weight}}(e)):function(e){var t=[],n={},r={};function o(i){if(!s(r,i)){for(var a of(r[i]=!0,n[i]=!0,e.outEdges(i)))s(n,a.w)?t.push(a):o(a.w);delete n[i]}}return e.nodes().forEach(o),t}(e);for(var n of t){var r=e.edge(n);e.removeEdge(n),r.forwardName=n.name,r.reversed=!0,e.setEdge(n.w,n.v,r,f("rev"))}},undo:function(e){for(var t of e.edges()){var n=e.edge(t);if(n.reversed){e.removeEdge(t);var r=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(t.w,t.v,n,r)}}}};function Xe(e){e.children().forEach((function t(n){var r=e.children(n),o=e.node(n);if(r.length&&r.forEach(t),s(o,"minRank")){o.borderLeft=[],o.borderRight=[];for(var i=o.minRank,a=o.maxRank+1;i<a;++i)Ze(e,"borderLeft","_bl",n,o,i),Ze(e,"borderRight","_br",n,o,i)}}))}function Ze(e,t,n,r,o,i){var a={width:0,height:0,rank:i,borderType:t},s=o[t][i-1],h=C(e,"border",a,n);o[t][i]=h,e.setParent(h,r),s&&e.setEdge(s,h,{weight:1})}var et={adjust:function(e){var t=e.graph().rankdir.toLowerCase();"lr"!==t&&"rl"!==t||tt(e)},undo:function(e){var t=e.graph().rankdir.toLowerCase();"bt"!==t&&"rl"!==t||function(e){for(var t of e.nodes())tr(e.node(t));for(var n of e.edges()){var r=e.edge(n);r.points.forEach(tr),s(r,"y")&&tr(r)}}(e),"lr"!==t&&"rl"!==t||(function(e){for(var t of e.nodes())it(e.node(t));for(var n of e.edges()){var r=e.edge(n);r.points.forEach(it),s(r,"x")&&it(r)}}(e),tt(e))}};function tt(e){for(var t of e.nodes())nt(e.node(t));for(var n of e.edges())nt(e.edge(n))}function nt(e){var t=e.width;e.width=e.height,e.height=t}function tr(e){e.y=-e.y}function it(e){var t=e.x;e.x=e.y,e.y=t}var ot=Object.freeze({__proto__:null,debugOrdering:function(e){var t=P(e),n=new S({compound:!0,multigraph:!0}).setGraph({});for(var r of e.nodes())n.setNode(r,{label:r}),n.setParent(r,"layer"+e.node(r).rank);for(var o of e.edges())n.setEdge(o.v,o.w,{},o.name);var i=0;for(var a of t){var s="layer"+i;i++,n.setNode(s,{rank:"same"}),a.reduce((function(e,t){return n.setEdge(e.toString(),t,{style:"invis"}),t}))}return n}}),at={run:function(e){for(var t of(e.graph().dummyChains=[],e.edges()))st(e,t)},undo:function(e){for(var t of e.graph().dummyChains){var n,r=e.node(t),o=r.edgeLabel;for(e.setEdge(r.edgeObj,o);r.dummy;)n=e.successors(t)[0],e.removeNode(t),o.points.push({x:r.x,y:r.y}),"edge-label"===r.dummy&&(o.x=r.x,o.y=r.y,o.width=r.width,o.height=r.height),t=n,r=e.node(t)}}};function st(e,t){var n=t.v,r=e.node(n).rank,o=t.w,i=e.node(o).rank,a=t.name,s=e.edge(t),h=s.labelRank;if(i!==r+1){var u,d,l;for(e.removeEdge(t),l=0,++r;r<i;++l,++r)s.points=[],u=C(e,"edge",d={width:0,height:0,edgeLabel:s,edgeObj:t,rank:r},"_d"),r===h&&(d.width=s.width,d.height=s.height,d.dummy="edge-label",d.labelpos=s.labelpos),e.setEdge(n,u,{weight:s.weight},a),0===l&&e.graph().dummyChains.push(u),n=u;e.setEdge(n,o,{weight:s.weight},a)}}function ht(e){var t=function(e){var t={},n=0;function r(o){var i=n;e.children(o).forEach(r),t[o]={low:i,lim:n++}}return e.children().forEach(r),t}(e);for(var n of e.graph().dummyChains)for(var r=e.node(n),o=r.edgeObj,i=ut(e,t,o.v,o.w),a=i.path,s=i.lca,h=0,u=a[h],d=!0;n!==o.w;){if(r=e.node(n),d){for(;(u=a[h])!==s&&e.node(u).maxRank<r.rank;)h++;u===s&&(d=!1)}if(!d){for(;h<a.length-1&&e.node(u=a[h+1]).minRank<=r.rank;)h++;u=a[h]}e.setParent(n,u),n=e.successors(n)[0]}}function ut(e,t,n,r){var o,i,a=[],s=[],h=Math.min(t[n].low,t[r].low),u=Math.max(t[n].lim,t[r].lim);o=n;do{o=e.parent(o),a.push(o)}while(o&&(t[o].low>h||u>t[o].lim));for(i=o,o=r;(o=e.parent(o))!==i;)s.push(o);return{path:a.concat(s.reverse()),lca:i}}var lt={run:function(e){var t=C(e,"root",{},"_root"),n=function(e){var t={};function n(r,o){var i=e.children(r);if(i&&i.length)for(var a of i)n(a,o+1);t[r]=o}for(var r of e.children())n(r,1);return t}(e),r=Math.max(...v(n))-1,o=2*r+1;for(var i of(e.graph().nestingRoot=t,e.edges()))e.edge(i).minlen*=o;var a=function(e){return e.edges().reduce(((t,n)=>t+e.edge(n).weight),0)}(e)+1;for(var s of e.children())hr(e,t,o,a,r,n,s);e.graph().nodeRankFactor=o},cleanup:function(e){var t=e.graph();for(var n of(e.removeNode(t.nestingRoot),delete t.nestingRoot,e.edges()))e.edge(n).nestingEdge&&e.removeEdge(n)}};function hr(e,t,n,r,o,i,a){var s=e.children(a);if(s.length){var h=D(e,"_bt"),u=D(e,"_bb"),d=e.node(a);for(var l of(e.setParent(h,a),d.borderTop=h,e.setParent(u,a),d.borderBottom=u,s)){hr(e,t,n,r,o,i,l);var c=e.node(l),f=c.borderTop?c.borderTop:l,v=c.borderBottom?c.borderBottom:l,g=c.borderTop?r:2*r,p=f!==v?1:o-i[a]+1;e.setEdge(h,f,{weight:g,minlen:p,nestingEdge:!0}),e.setEdge(v,u,{weight:g,minlen:p,nestingEdge:!0})}e.parent(a)||e.setEdge(t,h,{weight:0,minlen:o+i[a]})}else a!==t&&e.setEdge(t,a,{weight:0,minlen:n})}function ct(e){return"edge-proxy"==e.dummy}function ft(e){return"selfedge"==e.dummy}var gt=50,vt=20,pt=50,yt="tb",mt=1,wt=1,br=0,xt=0,bt=10,_t="r";function kt(e={}){var t={};for(var n of Object.keys(e))t[n.toLowerCase()]=e[n];return t}function Et(e){return e.nodes().map((function(t){var n=e.node(t),r=e.parent(t),o={v:t};return void 0!==n&&(o.value=n),void 0!==r&&(o.parent=r),o}))}function St(e){return e.edges().map((function(t){var n=e.edge(t),r={v:t.v,w:t.w};return void 0!==t.name&&(r.name=t.name),void 0!==n&&(r.value=n),r}))}var Nt=Object.freeze({__proto__:null,write:function(e){var t={options:{directed:e.isDirected(),multigraph:e.isMultigraph(),compound:e.isCompound()},nodes:Et(e),edges:St(e)};return void 0!==e.graph()&&(t.value=JSON.parse(JSON.stringify(e.graph()))),t},read:function(e){var t=new S(e.options).setGraph(e.value);for(var n of e.nodes)t.setNode(n.v,n.value),n.parent&&t.setParent(n.v,n.parent);for(var n of e.edges)t.setEdge({v:n.v,w:n.w,name:n.name},n.value);return t}}),It={Graph:S,GraphLike:N,alg:Ce,json:Nt,PriorityQueue:xe};e.Graph=S,e.GraphLike=N,e.PriorityQueue=xe,e.acyclic=Ke,e.addBorderSegments=Xe,e.alg=Ce,e.coordinateSystem=et,e.data=o,e.debug=ot,e.graphlib=It,e.greedyFAS=Je,e.json=Nt,e.layout=function(e,t){var n=t&&t.debugTiming?B:G;n("layout",(function(){var t=n("  buildLayoutGraph",(function(){return function(e){var t,n,r,o,i,a,s,h,u,d,l,c,f,v,g,p=new S({multigraph:!0,compound:!0}),y=kt(e.graph()),m={nodesep:null!==(t=y.nodesep)&&void 0!==t?t:pt,edgesep:null!==(n=y.edgesep)&&void 0!==n?n:vt,ranksep:null!==(r=y.ranksep)&&void 0!==r?r:gt,marginx:+(null!==(o=y.marginx)&&void 0!==o?o:0),marginy:+(null!==(i=y.marginy)&&void 0!==i?i:0),acyclicer:y.acyclicer,ranker:null!==(a=y.ranker)&&void 0!==a?a:"network-simplex",rankdir:null!==(s=y.rankdir)&&void 0!==s?s:yt,align:y.align};for(var w of(p.setGraph(m),e.nodes())){var b=kt(e.node(w)),x={width:+(null!==(h=b&&b.width)&&void 0!==h?h:0),height:+(null!==(u=b&&b.height)&&void 0!==u?u:0)};p.setNode(w,x),p.setParent(w,e.parent(w))}for(var _ of e.edges()){var k=kt(e.edge(_)),E={minlen:null!==(d=k.minlen)&&void 0!==d?d:mt,weight:null!==(l=k.weight)&&void 0!==l?l:wt,width:null!==(c=k.width)&&void 0!==c?c:br,height:null!==(f=k.height)&&void 0!==f?f:xt,labeloffset:null!==(v=k.labeloffset)&&void 0!==v?v:bt,labelpos:null!==(g=k.labelpos)&&void 0!==g?g:_t};p.setEdge(_,E)}return p}(e)}));n("  runLayout",(function(){!function(e,t){t("    makeSpaceForEdgeLabels",(function(){!function(e){var t=e.graph();for(var n of(t.ranksep/=2,e.edges())){var r=e.edge(n);r.minlen*=2,"c"!==r.labelpos.toLowerCase()&&("TB"===t.rankdir||"BT"===t.rankdir?r.width+=r.labeloffset:r.height+=r.labeloffset)}}(e)})),t("    removeSelfEdges",(function(){!function(e){for(var t of e.edges())if(t.v===t.w){var n=e.node(t.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}}(e)})),t("    acyclic",(function(){Ke.run(e)})),t("    nestingGraph.run",(function(){lt.run(e)})),t("    rank",(function(){Ge(O(e))})),t("    injectEdgeLabelProxies",(function(){!function(e){for(var t of e.edges()){var n=e.edge(t);if(n.width&&n.height){var r=e.node(t.v),o=e.node(t.w);C(e,"edge-proxy",{rank:(o.rank-r.rank)/2+r.rank,e:t},"_ep")}}}(e)})),t("    removeEmptyRanks",(function(){R(e)})),t("    nestingGraph.cleanup",(function(){lt.cleanup(e)})),t("    normalizeRanks",(function(){z(e)})),t("    assignRankMinMax",(function(){!function(e){var t=0;for(var n of e.nodes()){var r=e.node(n);r.borderTop&&(r.minRank=e.node(r.borderTop).rank,r.maxRank=e.node(r.borderBottom).rank,t=Math.max(t,r.maxRank))}e.graph().maxRank=t}(e)})),t("    removeEdgeLabelProxies",(function(){!function(e){for(var t of e.nodes()){var n=e.node(t);ct(n)&&(e.edge(n.e).labelRank=n.rank,e.removeNode(t))}}(e)})),t("    normalize.run",(function(){at.run(e)})),t("    parentDummyChains",(function(){ht(e)})),t("    addBorderSegments",(function(){Xe(e)})),t("    order",(function(){Q(e)})),t("    insertSelfEdges",(function(){!function(e){var t,n=P(e);for(var r of n)for(var o=0,i=0;i<r.length;i++){var a=r[i],s=e.node(a);for(var h of(s.order=i+o,null!==(t=s.selfEdges)&&void 0!==t?t:[]))C(e,"selfedge",{width:h.label.width,height:h.label.height,rank:s.rank,order:i+ ++o,e:h.e,label:h.label},"_se");delete s.selfEdges}}(e)})),t("    adjustCoordinateSystem",(function(){et.adjust(e)})),t("    position",(function(){ve(e)})),t("    positionSelfEdges",(function(){!function(e){for(var t of e.nodes()){var n=e.node(t);if(ft(n)){var r=e.node(n.e.v),o=r.x+r.width/2,i=r.y,a=n.x-o,s=r.height/2;e.setEdge(n.e,n.label),e.removeNode(t),n.label.points=[{x:o+2*a/3,y:i-s},{x:o+5*a/6,y:i-s},{x:o+a,y:i},{x:o+5*a/6,y:i+s},{x:o+2*a/3,y:i+s}],n.label.x=n.x,n.label.y=n.y}}}(e)})),t("    removeBorderNodes",(function(){!function(e){for(var t of e.nodes())if(e.children(t).length){var n=e.node(t),r=e.node(n.borderTop),o=e.node(n.borderBottom),i=e.node(h(n.borderLeft)),a=e.node(h(n.borderRight));n.width=Math.abs(a.x-i.x),n.height=Math.abs(o.y-r.y),n.x=i.x+n.width/2,n.y=r.y+n.height/2}for(var t of e.nodes())"border"===e.node(t).dummy&&e.removeNode(t)}(e)})),t("    normalize.undo",(function(){at.undo(e)})),t("    fixupEdgeLabelCoords",(function(){!function(e){for(var t of e.edges()){var n=e.edge(t);if(s(n,"x"))switch("l"!==n.labelpos&&"r"!==n.labelpos||(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset}}}(e)})),t("    undoCoordinateSystem",(function(){et.undo(e)})),t("    translateGraph",(function(){!function(e){var t,n,r,o=Number.POSITIVE_INFINITY,i=0,a=Number.POSITIVE_INFINITY,h=0,u=e.graph(),d=null!==(t=u.marginx)&&void 0!==t?t:0,l=null!==(n=u.marginy)&&void 0!==n?n:0;function c(e){var t=e.x,n=e.y,r=e.width,s=e.height;o=Math.min(o,t-r/2),i=Math.max(i,t+r/2),a=Math.min(a,n-s/2),h=Math.max(h,n+s/2)}for(var f of e.nodes())c(e.node(f));for(var v of e.edges())s(p=e.edge(v),"x")&&c(p);for(var f of(o-=d,a-=l,e.nodes())){var g=e.node(f);g.x-=o,g.y-=a}for(var v of e.edges()){var p=e.edge(v);for(var y of null!==(r=p.points)&&void 0!==r?r:[])y.x-=o,y.y-=a;p.hasOwnProperty("x")&&(p.x-=o),p.hasOwnProperty("y")&&(p.y-=a)}u.width=i-o+d,u.height=h-a+l}(e)})),t("    assignNodeIntersects",(function(){!function(e){for(var t of e.edges()){var n,r,o=e.edge(t),i=e.node(t.v),a=e.node(t.w);o.points?(n=o.points[0],r=o.points[o.points.length-1]):(o.points=[],n=a,r=i),o.points.unshift(j(i,n)),o.points.push(j(a,r))}}(e)})),t("    reversePoints",(function(){!function(e){for(var t of e.edges()){var n=e.edge(t);n.reversed&&n.points.reverse()}}(e)})),t("    acyclic.undo",(function(){Ke.undo(e)}))}(t,n)})),n("  updateInputGraph",(function(){!function(e,t){for(var n of e.nodes()){var r=e.node(n),o=t.node(n);r&&(r.x=o.x,r.y=o.y,t.children(n).length&&(r.width=o.width,r.height=o.height))}for(var i of e.edges()){var a=e.edge(i),h=t.edge(i);a.points=h.points,s(h,"x")&&(a.x=h.x,a.y=h.y)}e.graph().width=t.graph().width,e.graph().height=t.graph().height}(e,t)}))}))},e.nestingGraph=lt,e.normalize=at,e.order=ee,e.parentDummyChains=ht,e.position=pe,e.rank=qe,e.util=$,e.version="0.1.3",Object.defineProperty(e,"__esModule",{value:!0})}(t)},289:function(e,t){},290:function(e,t,n){(function(e){function n(e,t){for(var n=0,i=e.length-1;i>=0;i--){var r=e[i];"."===r?e.splice(i,1):".."===r?(e.splice(i,1),n++):n&&(e.splice(i,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function filter(e,t){if(e.filter)return e.filter(t);for(var n=[],i=0;i<e.length;i++)t(e[i],i,e)&&n.push(e[i]);return n}t.resolve=function(){for(var t="",r=!1,i=arguments.length-1;i>=-1&&!r;i--){var path=i>=0?arguments[i]:e.cwd();if("string"!=typeof path)throw new TypeError("Arguments to path.resolve must be strings");path&&(t=path+"/"+t,r="/"===path.charAt(0))}return(r?"/":"")+(t=n(filter(t.split("/"),(function(p){return!!p})),!r).join("/"))||"."},t.normalize=function(path){var e=t.isAbsolute(path),o="/"===r(path,-1);return(path=n(filter(path.split("/"),(function(p){return!!p})),!e).join("/"))||e||(path="."),path&&o&&(path+="/"),(e?"/":"")+path},t.isAbsolute=function(path){return"/"===path.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(filter(e,(function(p,e){if("string"!=typeof p)throw new TypeError("Arguments to path.join must be strings");return p})).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var o=r(e.split("/")),h=r(n.split("/")),d=Math.min(o.length,h.length),l=d,i=0;i<d;i++)if(o[i]!==h[i]){l=i;break}var c=[];for(i=l;i<o.length;i++)c.push("..");return(c=c.concat(h.slice(l))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(path){if("string"!=typeof path&&(path+=""),0===path.length)return".";for(var code=path.charCodeAt(0),e=47===code,t=-1,n=!0,i=path.length-1;i>=1;--i)if(47===(code=path.charCodeAt(i))){if(!n){t=i;break}}else n=!1;return-1===t?e?"/":".":e&&1===t?"/":path.slice(0,t)},t.basename=function(path,e){var t=function(path){"string"!=typeof path&&(path+="");var i,e=0,t=-1,n=!0;for(i=path.length-1;i>=0;--i)if(47===path.charCodeAt(i)){if(!n){e=i+1;break}}else-1===t&&(n=!1,t=i+1);return-1===t?"":path.slice(e,t)}(path);return e&&t.substr(-1*e.length)===e&&(t=t.substr(0,t.length-e.length)),t},t.extname=function(path){"string"!=typeof path&&(path+="");for(var e=-1,t=0,n=-1,r=!0,o=0,i=path.length-1;i>=0;--i){var code=path.charCodeAt(i);if(47!==code)-1===n&&(r=!1,n=i+1),46===code?-1===e?e=i:1!==o&&(o=1):-1!==e&&(o=-1);else if(!r){t=i+1;break}}return-1===e||-1===n||0===o||1===o&&e===n-1&&e===t+1?"":path.slice(e,n)};var r="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,n(174))}}]);